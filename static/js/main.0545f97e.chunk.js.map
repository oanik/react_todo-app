{"version":3,"sources":["utils/TodosContext.jsx","utils/customHooks.jsx","components/TodoAPP/TodoAPP.jsx","components/MainStatusControl/MainStatusControl.jsx","utils/helpers.jsx","components/TodoItem/TodoItem.jsx","components/TodoList/TodoList.jsx","utils/constants.jsx","components/TodosFilter/TodosFilter.jsx","App.js","index.js"],"names":["TodosContext","React","createContext","todos","setTodos","TodosProvider","children","key","initValue","useState","JSON","parse","localStorage","getItem","value","setValue","useEffect","setItem","stringify","useLocalStorage","contextValue","useMemo","Provider","TodoAPP","memo","title","setTitle","useContext","className","type","placeholder","onChange","event","target","onKeyDown","preventDefault","trim","todo","arr","addTodos","id","Date","completed","MainStatusControl","isCompleted","length","every","toggleAll","handleToggleAll","useCallback","status","newTodos","map","classNames","checked","htmlFor","TodoItem","onCompletedTodos","onRemoveTodo","onTitleChange","edit","setEdit","newValue","handleKeyDown","e","editing","onDoubleClick","currentState","onBlur","handleBlur","onClick","TodoList","pathname","useLocation","onCompleteTodos","todosModified","filter","filteredTodo","Fragment","FILTERS","TodosFilter","leftTodos","notCompleted","clearCompleted","activeClassName","to","exact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0545f97e.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocalStorage } from './customHooks';\n\nexport const TodosContext = React.createContext({\n  todos: [],\n  setTodos: () => {},\n});\n\nexport const TodosProvider = ({ children }) => {\n  const [todos, setTodos] = useLocalStorage('todos', []);\n\n  const contextValue = useMemo(() => ({\n    todos,\n    setTodos,\n  }), [todos]);\n\n  return (\n    <TodosContext.Provider value={contextValue}>\n      {children}\n    </TodosContext.Provider>\n  );\n};\n\nTodosProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, initValue) => {\n  const [value, setValue] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(key)) || initValue;\n    } catch {\n      return initValue;\n    }\n  });\n  const save = (todos) => {\n    setValue(todos);\n  };\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value));\n  }, [value]);\n\n  return [value, save];\n};\n","import React, { useState, useContext } from 'react';\nimport { TodosContext } from '../../utils/TodosContext';\n\nexport const TodoAPP = React.memo(() => {\n  const [title, setTitle] = useState('');\n  const { todos, setTodos } = useContext(TodosContext);\n\n  const addTodos = (todo) => {\n    const arr = [...todos, todo];\n\n    setTodos(arr);\n  };\n\n  const handleOnSubmit = (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      if (!title.trim()) {\n        return;\n      }\n\n      addTodos({\n        id: +new Date(),\n        title,\n        completed: false,\n      });\n      setTitle('');\n    }\n  };\n\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n      <form>\n        <input\n          type=\"text\"\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={title}\n          onChange={event => setTitle(event.target.value)}\n          onKeyDown={handleOnSubmit}\n        />\n      </form>\n    </header>\n  );\n});\n","import React, { useContext, useCallback, useMemo } from 'react';\n\nimport classNames from 'classnames';\nimport { TodosContext } from '../../utils/TodosContext';\nimport { toggleAll } from '../../utils/helpers';\n\nexport const MainStatusControl = React.memo(() => {\n  const { todos, setTodos } = useContext(TodosContext);\n\n  const isCompleted = useMemo(() => toggleAll(todos), [todos]);\n  const handleToggleAll = useCallback((status) => {\n    const newTodos = todos.map(todo => ({ ...todo, completed: !status }));\n\n    setTodos(newTodos);\n  }, [todos]);\n\n  return (\n    <>\n      <input\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className={classNames('toggle-all')}\n        checked={isCompleted}\n        onChange={() => handleToggleAll(isCompleted)}\n      />\n      <label\n        htmlFor=\"toggle-all\"\n      >\n        Mark all as complete\n      </label>\n    </>\n  );\n});\n","export const notCompleted = todos => ((todos.length)\n  ? todos.filter(todo => todo.completed === false).length\n  : 0);\n\nexport const toggleAll = todos => ((!todos.length)\n  ? false\n  : todos.every(todo => todo.completed));\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport const TodoItem = React.memo(({ id, title,\n  completed, onCompletedTodos, onRemoveTodo, onTitleChange }) => {\n  const [edit, setEdit] = useState(false);\n  const [newValue, setValue] = useState(title);\n\n  const handleBlur = ({ value }) => {\n    onTitleChange(value, id);\n    setEdit(false);\n  };\n\n  const handleKeyDown = useCallback((e) => {\n    switch (e.key) {\n      case 'Enter': {\n        const { value } = e.target;\n\n        onTitleChange(value, id);\n        setEdit(false);\n        break;\n      }\n\n      case 'Escape': {\n        setEdit(false);\n        break;\n      }\n\n      default: {\n        break;\n      }\n    }\n  }, [edit]);\n\n  return (\n    <li\n      key={id}\n      className={classNames({ completed, editing: edit })}\n      onDoubleClick={() => setEdit(currentState => !currentState)}\n      onBlur={e => handleBlur(e.target.value)}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={completed}\n          onChange={e => onCompletedTodos(e, id)}\n        />\n        <label>\n          {title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => onRemoveTodo(id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={newValue}\n        onChange={e => setValue(e.target.value)}\n        onKeyDown={e => handleKeyDown(e)}\n      />\n    </li>\n  );\n});\n\nTodoItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n  onCompletedTodos: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  onTitleChange: PropTypes.func.isRequired,\n};\n","import React, { useContext, useCallback, useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { TodoItem } from '../TodoItem';\nimport { TodosContext } from '../../utils/TodosContext';\n\nexport const TodoList = () => {\n  const { pathname } = useLocation();\n  const { todos, setTodos } = useContext(TodosContext);\n\n  const onCompleteTodos = useCallback((event, id) => {\n    const { checked } = event.target;\n    const todosModified = todos.map((todo) => {\n      if (todo.id !== id) {\n        return todo;\n      }\n\n      return { ...todo, completed: checked };\n    });\n\n    setTodos(todosModified);\n  }, [todos]);\n\n  const onRemoveTodo = useCallback((id) => {\n    const todosModified = todos.filter(todo => todo.id !== id);\n\n    setTodos(todosModified);\n  }, []);\n\n  const filteredTodo = useMemo(() => {\n    switch (pathname) {\n      case '/': {\n        return todos;\n      }\n\n      case '/completed': {\n        return todos.filter(todo => todo.completed);\n      }\n\n      case '/active': {\n        return todos.filter(todo => !todo.completed);\n      }\n\n      default: {\n        return todos;\n      }\n    }\n  }, [todos, pathname]);\n\n  const onTitleChange = (value, id) => {\n    if (value) {\n      const todosModified = todos.map((todo) => {\n        if (todo.id !== id) {\n          return todo;\n        }\n\n        return { ...todo, title: value };\n      });\n\n      setTodos(todosModified);\n    }\n  };\n\n  if (!todos.length) {\n    return (<></>);\n  }\n\n  return (\n    <ul className=\"todo-list\">\n      {filteredTodo.map(({ id, title, completed }) => (\n        <React.Fragment key={id}>\n          <TodoItem\n            id={id}\n            title={title}\n            completed={completed}\n            onCompletedTodos={onCompleteTodos}\n            onRemoveTodo={onRemoveTodo}\n            onTitleChange={onTitleChange}\n          />\n        </React.Fragment>\n      ))}\n    </ul>\n  );\n};\n","export const FILTERS = {\n  all: 'All',\n  active: 'Active',\n  completed: 'Completed',\n};\n\nexport const ClearCompleted = 'Clear completed';\n","import React, { useContext, useMemo, useCallback } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { TodosContext } from '../../utils/TodosContext';\nimport { notCompleted } from '../../utils/helpers';\nimport { FILTERS, ClearCompleted } from '../../utils/constants';\n\nexport const TodosFilter = React.memo(() => {\n  const { todos, setTodos } = useContext(TodosContext);\n\n  const leftTodos = useMemo(() => notCompleted(todos), [todos]);\n  const clearCompleted = useCallback(() => {\n    setTodos(todos.filter(todo => !todo.completed));\n  }, [todos]);\n\n  return (\n    <>\n      <span className=\"todo-count\">\n        {`${leftTodos} items left`}\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <NavLink\n            activeClassName=\"selected\"\n            to=\"/active\"\n          >\n            {FILTERS.active}\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            activeClassName=\"selected\"\n            to=\"/completed\"\n          >\n            {FILTERS.completed}\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            activeClassName=\"selected\"\n            to=\"/\"\n            exact\n          >\n            {FILTERS.all}\n          </NavLink>\n        </li>\n      </ul>\n\n      <button\n        type=\"button\"\n        className=\"clear-completed\"\n        onClick={clearCompleted}\n      >\n        {ClearCompleted}\n      </button>\n    </>\n  );\n});\n","import React, { useContext } from 'react';\n\nimport { TodoAPP } from './components/TodoAPP';\nimport { MainStatusControl } from './components/MainStatusControl';\nimport { TodoList } from './components/TodoList';\nimport { TodosFilter } from './components/TodosFilter';\n\nimport { TodosContext } from './utils/TodosContext';\n\nconst App = () => {\n  const { todos } = useContext(TodosContext);\n\n  return (\n    <section className=\"todoapp\">\n      <TodoAPP />\n      {todos.length > 0 && (\n      <>\n        <section className=\"main\">\n          <MainStatusControl />\n          <TodoList />\n        </section>\n        <footer className=\"footer\">\n          <TodosFilter />\n        </footer>\n      </>\n      )}\n    </section>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { TodosProvider } from './utils/TodosContext';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <TodosProvider>\n      <App />\n    </TodosProvider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}